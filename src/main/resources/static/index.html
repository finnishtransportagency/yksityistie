<html lang="fi">

<head>
	<meta charset="UTF-8">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css">
</head>
<body>

  <div class="container py-5">

		<div class="row mb-4">
			<div class="col-11">
				<h2 id="municipalityInfoTitle" class="">
					Tiekunnan tiedot
				</h2>
			</div>

			<div class="col-1">
				<div class="btn-group btn-group-toggle align-right" data-toggle="buttons">
					<label class="btn btn-outline-primary active">
						<input type="radio" name="options" id="option1" autocomplete="off" checked onchange="i18next.changeLanguage('fi')"> fi
					</label>
					<label class="btn btn-outline-primary">
						<input type="radio" name="options" id="option2" autocomplete="off" onchange="i18next.changeLanguage('sv')"> sv
					</label>
				</div>
			</div>
		</div>

		<!-- onsubmit="formHandler(event)" -->

    <!-- Tiekunnan tiedot starts here -->
    <form class="yksityisteidenIlmoittaminen" id="yksityisteidenIlmoittaminen" method="post" onsubmit="formHandler(event)">

      <fieldset id="tiekunnan_tiedot">

        <div class="row mb-3">
          <div class="col">
            <label id="roadMunicipality" for="tiekunta">Tiekunta (pakollinen tieto)
						</label>
            <input type="text" class="form-control" id="tiekunta" name="tiekunta" required>
          </div>
        </div>


        <div class="row mb-3">
          <div class="col">
            <label for="kunta" id="municipality">Kunta (pakollinen tieto)</label>
            <input type="text" class="form-control" id="kunta" name="kunta" required>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <label for="kayttooikeustunnus" id="licenceIdentifier">Käyttöoikeustunnus</label>
            <input type="text" class="form-control" id="kayttooikeustunnus" name="kayttooikeustunnus">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <label for="ilmoittajanNimi" id="informantsName">Ilmoittajan nimi (pakollinen tieto)</label>
            <input type="text" class="form-control" id="ilmoittajanNimi" name="ilmoittajanNimi" required>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <label for="puhelinnumero" id="phoneNumber">Puhelinnumero (pakollinen tieto)</label>
            <input type="tel" class="form-control" id="puhelinnumero" name="puhelinnumero" pattern="[0-9+]{4,}" required>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <label for="sahkoposti" id="email">Sähköpostiosoite (pakollinen tieto)</label>
            <input type="email" class="form-control" id="sahkoposti" name="sahkoposti" required>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col text-muted">
            <span id="GDPR">
              * Yhteystiedot ovat Väyläviraston GDPR alaisia ja yhteystietoja käytetään ainoastaan ongelmatilanteiden selvitykseen tiekunnan yhteyshenkilön kanssa tai yksityistietojen lakisääteiseen ilmoitusvelvollisuuteen liittyvään viestintään.
            </span>
          </div>
          <br>
        </div>

		<hr class="mb-5 mt-5">
		<iframe src="https://kehitysjulkinen.vayla.fi/oskari/?lang=fi&uuid=af456730-ce3e-4332-9175-bdc9636db361" style="border: 1px solid blue; width: 100%; height: 500px"></iframe>
		<hr class="mb-5 mt-5">

        <div class="row mb-3">
          <div class="col-md">
            <label for="toiminto_dropdown" id="actionDropdownLabel">Siirry ilmoittamaan tiedot valitsemalla seuraavista vaihtoehdoista:</label>

            <select class="custom-select" id="toiminto_dropdown" name="toiminto_dropdown" required autocomplete="off">
		          <option id="actionDropdown0" selected disabled hidden>Valitse</option>
		          <option id="actionDropdown1" value="1">Tiekunnan teiden tiedot ovat oikein Digiroadissa</option>
		          <option id="actionDropdown2" value="2">Ilmoita tiekunnan puuttuvat tai muuttuneet tiedot</option>
          	</select>
          </div>
        </div>

        <!-- Tiekunnan tiedot ends here-->

				<br>

        <!-- Tiekunnan tiedot ovat oikein starts here-->
        <div id="tiedot_oikein_container" name="tiedot_oikein_container" class="" style="display: none;">
          <div class="row mb-3">
						<div class="col">
            	<h3 id="roadMunicipalityInfoCorrect">Tiekunnan teiden tiedot ovat oikein</h3>
						</div>
  				</div>

          <div class="row mb-3">
            <div class="col">
              <label for="tiedot_oikein_tien_nimi_1" class="InfoOkRoadName" id="InfoOkRoadName">Tien nimi (tien osoite)</label>
              <input type="text" class="form-control tiedot_oikein_tien_nimi" id="tiedot_oikein_tien_nimi_1" required name="tiedot_oikein_tien_nimi_1" onkeyup="validateTiedotOikeinRoadButton('tiedot_oikein_tien_nimi_1')">
            </div>
          </div>

          <!-- tiedot oikein - extra roads are added here -->
          <div class="tiedot_oikein_lisatyt_tiet mb-3"></div>

          <div class="row mb-5">
            <div class="col-3">
              <!-- Tiedot oikein lisää tie button -->
              <button type="button" id="addRoad" disabled class="btn btn-success btn-lg tiedot_oikein_lisaa_tie">Lisää tie</button>
            </div>
          </div>


          <div class="row mb-5">
						<div class="col">
							<div class="custom-control custom-checkbox">
			          <input type="checkbox" class="custom-control-input" id="tiedot_oikein_checkbox">
			          <label class="custom-control-label" id="infoOkAgreement" for="tiedot_oikein_checkbox">Vakuutan, että olen tarkistanut yksityistiekunnan teiden tiedot ja ne ovat Digiroadissa oikein.</label>
			        </div>
						</div>
          </div>

        </div>
        <!-- tiedot_oikein_container ends here -->



        <!-- ilmoita_tiedot_container starts here -->
        <div id="ilmoita_tiedot_container" class="mb-3"  name="ilmoita_tiedot_container" style="display: none">
          <h3 class="mb-4" id="notifyMunicipalityInfo">Ilmoita tiekunnan teiden tiedot</h3>

          <!--this container should get duplicated by pressing the Lisää tie button-->
          <div id="ilmoita_tiedot_tie_container" class="card mb-3 bg-light" name="ilmoita_tiedot_tie_container">
            <fieldset class="card-body">


              <div class="row mb-3">
                <div class="col">
                  <label for="ilmoita_tiedot_tien_nimi" class="notifyInfoRoadsName" id="notifyInfoRoadsName">Tien nimi (tien osoite)</label>
                  <input type="text" class="form-control ilmoita_tiedot_tien_nimi" id="ilmoita_tiedot_tien_nimi_1" required name="ilmoita_tiedot_tien_nimi_1" onkeyup="validateIlmoitaTiedotRoadButton()">
                </div>
              </div>

              <div class="row mb-3">
								<div class="col">
									<div class="custom-control custom-checkbox">
										<input type="checkbox" onchange="hideRajoitukset()" class="custom-control-input" id="ilmoita_tiedot_tierajoitukset_checkbox_1" name="ilmoita_tiedot_tierajoitukset_checkbox_1" >
		                <label class="custom-control-label notifyInfoRestrictions" id="notifyInfoRestrictions" for="ilmoita_tiedot_tierajoitukset_checkbox_1">Tiellä ei ole rajoituksia tai kieltoja</label>
									</div>
								</div>
              </div>

              <!-- Tierajoitukset tai kiellot container starts here -->
              <!-- extra options, hidden behind checkbox -->
              <div id="tierajoitukset_container_1">
                <div class="row mb-3">
                  <div class="col">
                    <label for="painorajoitus" class="notifyInfoWeightRestriction" id="notifyInfoWeightRestriction">Painorajoitus kg</label>
                    <input type="number" class="form-control" id="ilmoita_tiedot_painorajoitus_1" name="ilmoita_tiedot_painorajoitus_1">
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col">
                    <label for="painorajoitus_lisakilvet" class="notifyInfoWeightSign" id="notifyInfoWeightSign">Painorajoituksen lisäkilvet</label>
                    <input type="text" class="form-control" id="ilmoita_tiedot_painorajoitus_lisakilvet_1" name="ilmoita_tiedot_painorajoitus_lisakilvet_1">
                  </div>
                </div>

								<hr class="mb-5 mt-5">

								<div class="row mb-3">
								 <div class="col">
									 <div class="custom-control custom-checkbox">
		 								<input type="checkbox" onchange="hideKelirikko()" checked class="custom-control-input" id="ilmoita_tiedot_kelirikko_checkbox_1" name="ilmoita_tiedot_toistuva_kelirikko_1">
		             		<label for="ilmoita_tiedot_kelirikko_checkbox_1" class="custom-control-label notifyInfoFrequentFrostHeave" id="notifyInfoFrequentFrostHeave">Tiellä esiintyy toistuvia kelirikkoja.</label>
		             	</div>
								 </div>
							 </div>

							 	<div id="kelirikko_container_1" class="ilmoita_tiedot">
                 <div class="row mb-3">
	                  <div class="col">
	                    <label for="ilmoita_tiedot_kelirikonPainoRaja_1" class="notifyInfoFrostHeaveWeightRestriction" id="notifyInfoFrostHeaveWeightRestriction">Kelirikon aikainen painorajoitus (kg), jos asetettu</label>
	                    <input type="number" class="form-control" id="ilmoita_tiedot_kelirikonPainoRaja_1" name="ilmoita_tiedot_kelirikonPainoRaja_1">
	                  </div>
	               </div>

								<div class="row mb-3">
									<div class="col">
										<label for="voimassaoloAika" class="voimassaoloAika notifyInfoFrostHeaveValidity" id="notifyInfoFrostHeaveValidity">Arvio kelirikon tilapäisestä tai toistuvasta voimassaoloajasta</label>

										<div class="row" id="voimassaoloAika">
											<div class="col">
												<input type="text" class="form-control" placeholder="Alkaa" id="voimassaoloStart" autocomplete="off" name="ilmoita_tiedot_kelirikonVoimassaoloAika_start_1">
											</div>
											<div class="col">
												<input type="text" class="form-control" placeholder="Päättyy" id="voimassaoloEnd" autocomplete="off" name="ilmoita_tiedot_kelirikonVoimassaoloAika_end_1">
											</div>
										</div>
									</div>
								</div>
							</div>

							<hr class="mb-5 mt-5">

                 <div class="row mb-3">
                  <div class="col">
                    <label for="ajokielto" class="notifyInfoDrivingBan" id="notifyInfoDrivingBan">Ajokielto</label>
                    <input type="text" class="form-control" id="ilmoita_tiedot_ajokielto_1" name="ilmoita_tiedot_ajokielto_1">
                  </div>
                </div>

								<div class="row mb-3">
                  <div class="col">
                    <label for="ajokielto_lisakilvet" class="notifyInfoDrivingBanSign" id="notifyInfoDrivingBanSign">Ajokiellon lisäkilvet</label>
                    <input type="text" class="form-control" id="ilmoita_tiedot_ajokielto_lisakilvet_1" name="ilmoita_tiedot_ajokielto_lisakilvet_1">
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col">
                    <label for="nopeusrajoitus" class="notifyInfoSpeedLimit" id="notifyInfoSpeedLimit">Nopeusrajoitus km/h</label>
										<select class="custom-select form-control" id="ilmoita_tiedot_nopeusrajoitus_1" name="ilmoita_tiedot_nopeusrajoitus_1" autocomplete="off">
											<option value="-" id="nopeusrajoitusValinta1">-</option>
						          <option value="20" id="nopeusrajoitusValinta1">20</option>
											<option value="30" id="nopeusrajoitusValinta2">30</option>
						          <option value="40" id="nopeusrajoitusValinta3">40</option>
											<option value="50" id="nopeusrajoitusValinta4">50</option>
											<option value="60" id="nopeusrajoitusValinta5">60</option>
											<option value="70" id="nopeusrajoitusValinta6">70</option>
											<option value="80" id="nopeusrajoitusValinta7">80</option>
											<option value="100" id="nopeusrajoitusValinta8">100</option>
											<option value="120" id="nopeusrajoitusValinta9">120</option>
				          	</select>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col">
									    <label for="karttalinkit" class="notifyInfoMapLinks" id="notifyInfoMapLinks">Karttalinkit*</label>
									    <textarea maxlength="5000" class="form-control" id="ilmoita_tiedot_karttalinkit_1" rows="3" name="ilmoita_tiedot_karttalinkit_1"></textarea>
									</div>
                </div>

								<div class="row mb-3">
                  <div class="col">
									    <label for="lisatiedot" class="notifyInfoAdditionalInformation" id="notifyInfoAdditionalInformation">Voit halutessasi ilmoittaa myös muut tien liikennemerkit tai antaa lisätietoja rajoituksista</label>
									    <textarea maxlength="5000" class="form-control" id="ilmoita_tiedot_lisatiedot_1" rows="3" name="ilmoita_tiedot_lisatiedot_1"></textarea>
									</div>
                </div>



                <div class="row mb-3">
                  <div class="col">
                    <label class="text-muted notifyInfoBottomText" id="notifyInfoBottomText">
	                    *Rajoitusten ja kieltojen sijainneista voi toimittaa myös vapaamuotoisen kartan sähköpostitse osoitteeseen info@digiroad.fi. Otsikkokenttään tulee laittaa tiekunnan nimi.
	                  </label>
                  </div>
                </div>
              </div>
              <!-- Tierajoitukset tai kiellot container ends here -->

            </fieldset>
          </div>

          <!-- ilmoita tiedot - extra roads are added here -->
          <div class="ilmoita_tiedot_lisatyt_tiet"></div>

          <!-- add extra road button -->
          <div class="row mb-5">
            <div class="col">
              <button type="button" disabled class="btn btn-success btn-lg ilmoita_tiedot_lisaa_tie" id="notifyInfoAddRoad" >Lisää tie</button>
            </div>
          </div>

          <div class="row mb-5">

						<div class="col">
							<div class="custom-control custom-checkbox">
								<input type="checkbox" class="custom-control-input" id="vakuutan_tiedot_checkbox" name="vakuutan_tiedot_checkbox" value="vakuutan">
            		<label for="vakuutan_tiedot_checkbox" class="custom-control-label notifyInfoAgreement" id="notifyInfoAgreement">Vakuutan, että olen ilmoittanut Digiroadiin tiekunnan teiden rajoitukset ja kaikki rajoitukset ja kiellot ovat kunnan hyväksymiä.</label>
            	</div>
						</div>
          </div>

        </div>
        <!-- ilmoita_tiedot_container ends here-->


				<div class="row mb-5 mt-3">
          <div class="col-md">
            <label for="tositeliite_dropdown" id="voucherAttachment">Valitse tapa, jolla tositeliite toimitetaan teille:</label>

            <select class="custom-select" id="tositeliite_dropdown" name="tositeliite_dropdown" required autocomplete="off">
		          <option value="1" id="voucherAttachmentOption1">Sähköpostitse (tarkista antamasi sähköpostiosoite!)</option>
		          <option value="2" id="voucherAttachmentOption2">Lataa tositeliite koneelle .pdf tiedostona</option>
							<option value="3" id="voucherAttachmentOption3">Lataa tositeliite koneelle ja toimita kopio sähköpostiin (tarkista antamasi sähköpostiosoite!)</option>
          	</select>
          </div>
        </div>

				<div class="row mb-3 mt-5 justify-content-center">
					<div class="col-4">
						<div class="g-recaptcha" data-sitekey="6Ldwz5cUAAAAABUMAEMs87u7g_Gj8isEFP5L__oQ"></div>
					</div>
				</div>

        <!-- submit button -->
				<div id="buttonDisabledHint">
					<p id="disabledButtonHint" class="row mt-3 mt-5 font-weight-bold justify-content-center text-danger">Tarkista lomakkeen kentät ja siirry ilmoittamaan tiedot</p>
				</div>

				<div id="formSentSuccessHint">
					<p id="successButtonHint" class="row mt-3 mt-5 font-weight-bold justify-content-center text-success">Tiedot toimitettu onnistuneesti, kiitos tietojen toimituksesta!</p>
				</div>

				<div class="row mb-3 mt-1 justify-content-center">
	        <div class="col-5">
	        	<input type="submit" name="submit" class="btn btn-primary btn-lg btn-block" id="sendVoucherAttachement" value="Lähetä ja lataa tositeliite">
	        </div>
				</div>

      </fieldset>

    </form>

		<!-- Modal -->
		<div class="modal fade" id="digiroadModal" tabindex="-1" role="dialog" aria-labelledby="digiroadModalTitle" aria-hidden="true">
		  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
		    <div class="modal-content">
		      <div class="modal-header no-border">
		        <h5 class="modal-title" id="digiroadModalLongTitle">Modal title</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
					  </button>
		      </div>
		      <div class="modal-body" id="digiroadModalBody">
		        ...
		      </div>
		      <div class="modal-footer">
						<button type="button" id="digiroadModalClose" class="btn btn-danger" data-dismiss="modal" aria-label="Close">Sulje</button>
		        <button type="button" id="digiroadModalReDo" class="btn btn-primary"  onclick="handleRedoButton()">Täytä uudelleen</button>
		        <button type="button" id="digiroadModalReturn" class="btn btn-success" onclick="handleBackButton()">Palaa etusivulle</button>
		      </div>
		    </div>
		  </div>
		</div>


  </div>
  <!-- form-container ends -->

	<script type="text/javascript" src="./lib/jquery-3.3.1.min.js"></script>
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

	<!-- i18next -->
	<!--<script src="https://unpkg.com/i18next/i18next.js"></script>-->
	<script src="https://unpkg.com/i18next/dist/umd/i18next.js"></script>
	<script src="./lib/i18next.js"></script>

	<!-- moment -->
	<script src="./lib/moment-with-locales.js"></script>

	<!-- date picker -->
	<script src="./lib/pikaday.js"></script>

	<!-- javascript -->
	<script src="./lib/digiroad_form_script.js"></script>

</body>

</html>
